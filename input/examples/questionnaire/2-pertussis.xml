<Questionnaire xmlns="http://hl7.org/fhir">
  <id value="2-pertussis" />
  <meta>
    <profile value="http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-questionnaire" />
  </meta>
  <text>
    <status value="generated" />
    <div xmlns="http://www.w3.org/1999/xhtml">
      Lab Order Questionnarie Example for blood smear and PCR
      <pre>todo copy text out of rendering</pre>
    </div>
  </text>
  <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-targetStructureMap">
    <valueCanonical value="http://fhir.ch/ig/ch-orf/StructureMap/map-orf" />
  </extension>
  <url value="http://fhir.ch/ig/ch-lab-order/Questionnaire/2-pertussis" />
  <name value="LabOrderExample" />
  <title value="Lab Order Example" />
  <status value="draft" />
  <experimental value="true" />
  <subjectType value="Patient" />
  <date value="2020-08-23" />
  <publisher value="eHealth Suisse" />

  <!-- item #0 Lab Order Questionnarie Example for Pertussis -->
  <item>
    <linkId value="info" />
    <text value="Lab Order Questionnarie Example for Pertussis" />
    <type value="display" />
  </item>

  <!-- item #1 Lab Order -->
  <item>
    <linkId value="order" />
    <text value="Auftrag" />
    <type value="group" />
    <item>
      <linkId value="order.date" />
      <text value="Auftrags-Datum" />
      <type value="date" />
    </item>
    <item>
      <linkId value="order.number" />
      <text value="Auftrags-Nummer" />
      <type value="string" />
    </item>
  </item>

  <!-- item #2 orderer -->
  <item>
    <linkId value="orderer" />
    <text value="Auftraggeber" />
    <type value="group" />

    <!-- item #2.0 orderer.author -->
    <item>
      <linkId value="orderer.author" />
      <text value="Author" />
      <type value="group" />
      <item>
        <linkId value="orderer.author.visum" />
        <text value="Visum" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.author.organization" />
        <text value="Organization" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.author.lastname" />
        <text value="Name" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.author.firstname" />
        <text value="Vorname" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.author.tel" />
        <text value="Telefon" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.author.e-mail" />
        <text value="E-Mail" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.author.street" />
        <text value="Strasse" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.author.postfach" />
        <text value="Postfach" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.author.zip" />
        <text value="PLZ" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.author.city" />
        <text value="Ort" />
        <type value="string" />
      </item>
    </item>

    <!-- orderer.dataenterer-->
    <item>
      <linkId value="orderer.dataenterer" />
      <text value="Erfasser" />
      <type value="group" />
      <item>
        <linkId value="orderer.dataenterer.visum" />
        <text value="Visum" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.dataenterer.organization" />
        <text value="Organization" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.dataenterer.lastname" />
        <code>
          <system value="http://tbd" />
          <code value="datlname" />
        </code>
        <text value="Name" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.dataenterer.firstname" />
        <definition value="http://fhir.ch/ig/ch-orf/StructureDefinition/QRFDataEntryPerson#Practitioner.name.first" />
        <text value="Vorname" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.dataenterer.tel" />
        <text value="Telefon" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.dataenterer.e-mail" />
        <text value="E-Mail" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.dataenterer.street" />
        <text value="Strasse" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.dataenterer.postfach" />
        <text value="Postfach" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.dataenterer.zip" />
        <text value="PLZ" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.dataenterer.city" />
        <text value="Ort" />
        <type value="string" />
      </item>
    </item>

    <!-- orderer.notcontactthisdoc -->
    <item>
      <linkId value="orderer.notcontactthisdoc" />
      <text value="Urgent Notification Contact for this document:" />
      <type value="group" />
      <item>
        <linkId value="orderer.notifcontactthisdoc.visum" />
        <text value="Visum" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactthisdoc.organization" />
        <text value="Organization" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactthisdoc.lastname" />
        <text value="Name" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactthisdoc.firstname" />
        <text value="Vorname" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactthisdoc.tel" />
        <text value="Telefon" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactthisdoc.e-mail" />
        <text value="E-Mail" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactthisdoc.street" />
        <text value="Strasse" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactthisdoc.postfach" />
        <text value="Postfach" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactthisdoc.zip" />
        <text value="PLZ" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactthisdoc.city" />
        <text value="Ort" />
        <type value="string" />
      </item>
    </item>

    <!-- orderer.notcontactresponsedoc -->
    <item>
      <linkId value="orderer.notcontactresponsedoc" />
      <text value="Urgent Notification Contact for the response of this document:" />
      <type value="group" />
      <item>
        <linkId value="orderer.notifcontactresponsedoc.visum" />
        <text value="Visum" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactresponsedoc.organization" />
        <text value="Organization" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactresponsedoc.lastname" />
        <text value="Name" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactresponsedoc.firstname" />
        <text value="Vorname" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactresponsedoc.tel" />
        <text value="Telefon" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactresponsedoc.e-mail" />
        <text value="E-Mail" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactresponsedoc.street" />
        <text value="Strasse" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactresponsedoc.postfach" />
        <text value="Postfach" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactresponsedoc.zip" />
        <text value="PLZ" />
        <type value="string" />
      </item>
      <item>
        <linkId value="orderer.notifcontactresponsedoc.city" />
        <text value="Ort" />
        <type value="string" />
      </item>
    </item>
  </item>

  <!-- item #3 receiver -->
  <item>
    <linkId value="receiver" />
    <text value="Receiver" />
    <type value="group" />
    <item>
      <linkId value="receiver.visum" />
      <text value="Visum" />
      <type value="string" />
    </item>
    <item>
      <linkId value="receiver.bereich" />
      <text value="Bereich" />
      <type value="string" />
    </item>
    <item>
      <linkId value="receiver.abt" />
      <text value="Bereich" />
      <type value="string" />
    </item>
    <item>
      <linkId value="receiver.lastname" />
      <text value="Name" />
      <type value="string" />
    </item>
    <item>
      <linkId value="receiver.firstname" />
      <text value="Vorname" />
      <type value="string" />
    </item>
    <item>
      <linkId value="receiver.tel" />
      <text value="Telefon" />
      <type value="string" />
    </item>
    <item>
      <linkId value="receiver.e-mail" />
      <text value="E-Mail" />
      <type value="string" />
    </item>
    <item>
      <linkId value="receiver.cstreet" />
      <text value="Strasse" />
      <type value="string" />
    </item>
    <item>
      <linkId value="receiver.postfach" />
      <text value="Postfach" />
      <type value="string" />
    </item>
    <item>
      <linkId value="receiver.zip" />
      <text value="PLZ" />
      <type value="string" />
    </item>
    <item>
      <linkId value="receiver.city" />
      <text value="Ort" />
      <type value="string" />
    </item>
  </item>

  <!-- item #4 patient-->
  <item>
    <linkId value="patient" />
    <text value="Patient" />
    <type value="group" />
    <item>
      <linkId value="patient.lastname" />
      <definition value="http://hl7.org/fhir/StructureDefinition/Patient#Patient.name.given" />
      <text value="Name" />
      <type value="string" />
    </item>
    <item>
      <linkId value="patient.firstname" />
      <definition value="http://hl7.org/fhir/StructureDefinition/Patient#Patient.name.first" />
      <text value="Vorname" />
      <type value="string" />
    </item>
    <item>
      <linkId value="patient.pid" />
      <text value="PID (sendendes System)" />
      <type value="string" />
    </item>
    <item>
      <linkId value="patient.birthdate" />
      <text value="Geburtsdatum" />
      <type value="date" />
    </item>
    <item>
      <linkId value="patient.sex" />
      <text value="Geschlecht" />
      <type value="choice" />
      <answerOption>
        <valueString value="M" />
      </answerOption>
      <answerOption>
        <valueString value="F" />
      </answerOption>
    </item>
    <item>
      <linkId value="patient.amborstat" />
      <text value="Amb/Stat" />
      <type value="choice" />
      <answerOption>
        <valueString value="Amb" />
      </answerOption>
      <answerOption>
        <valueString value="Stat" />
      </answerOption>
    </item>
  </item>

  <!-- item #5 specialty, here: microbiology-->
  <item>
    <linkId value="microbiology" />
    <text value="Mikrobiologie" />
    <type value="group" />

    <!-- item #5.0 PCR for Pertussis/Parapertussis-->
    <item>
      <linkId value="per" />
      <text value="Pertussis and Parapertussis DNA" />
      <type value="choice" />
      <repeats value="true" />
      <answerOption>
        <valueCoding>
          <system value="http://loinc.org" />
          <code value="90441-7" />
          <display value="B pert+parapert DNA Pnl Nph" />
        </valueCoding>
      </answerOption>
    </item>
  </item>

  <!-- item #6 specialty, here: hematology-->
  <item>
    <linkId value="hematology" />
    <text value="Hämatologie" />
    <type value="group" />

    <!-- item #6.0 -->
    <item>
      <linkId value="blood-diff" />
      <text value="Manual Differential panel - Blood" />
      <type value="choice" />
      <repeats value="true" />
      <answerOption>
        <valueCoding>
          <system value="http://loinc.org" />
          <code value="24318-8" />
          <display value="Manual diff Bld" />
        </valueCoding>
      </answerOption>
    </item>
  </item>

  <!-- item #7 specialty, here: clinical chemistry-->
  <item>
    <linkId value="clinical chemistry" />
    <text value="Klinische Chemie" />
    <type value="group" />
    <!-- CRP C reactive Protein normal method -->
    <item>
      <linkId value="crp" />
      <text value="C-reactive Protein" />
      <type value="choice" />
      <repeats value="true" />
      <answerOption>
        <valueCoding>
          <system value="http://loinc.org" />
          <code value="1988-5" />
          <display value="C reactive protein [Mass/volume] in Serum or Plasma" />
        </valueCoding>
      </answerOption>
    </item>
    
  </item>
</Questionnaire>